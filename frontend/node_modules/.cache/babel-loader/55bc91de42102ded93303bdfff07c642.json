{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/al55/dev/react-mesto-api-full/frontend/src/components/InfoTooltip.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport fail from \"../images/fail.svg\";\nimport success from \"../images/success.svg\";\nimport { useLocation } from 'react-router-dom';\n\nconst InfoTooltip = props => {\n  _s();\n\n  // Диструктуризированная переменная с пропсами\n  const {\n    isOpen,\n    onClose,\n    isSuccess\n  } = props;\n  const path = useLocation().pathname;\n\n  const tooltip = () => {\n    if (path === '/sign-in' || path === '/sign-up') {\n      return isSuccess ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\";\n    }\n\n    if (path === '/mesto') {\n      return isSuccess ? \"Вы успешно авторизовались!\" : \"Что-то пошло не так!\";\n    }\n\n    return;\n  };\n\n  const image = isSuccess ? success : fail; // Реализация закрытия нажатием на ESC\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleEscapeClose = event => {\n      if (event.key === \"Escape\") {\n        onClose();\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [isOpen, onClose]); // Реализация закрытия по оверлею\n\n  const handleOverlayClose = e => {\n    if (e.target === e.currentTarget && isOpen) {\n      onClose();\n    }\n\n    return;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    onClick: handleOverlayClose,\n    className: `popup popup_type_info-tooltip ${isOpen ? 'popup_opened' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button popup__button-close\",\n        type: \"button\",\n        onClick: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"popup__image-tooltip\",\n        src: image,\n        alt: \"Картинка подсказки\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"popup__tooltip\",\n        children: tooltip()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(InfoTooltip, \"ojWRI7mIcH3yyR7IUI2M4vNi0s8=\", false, function () {\n  return [useLocation];\n});\n\n_c = InfoTooltip;\nexport default InfoTooltip;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoTooltip\");","map":{"version":3,"sources":["/Users/al55/dev/react-mesto-api-full/frontend/src/components/InfoTooltip.js"],"names":["React","useEffect","useLocation","InfoTooltip","props","isOpen","onClose","isSuccess","path","pathname","tooltip","image","success","fail","handleEscapeClose","event","key","document","addEventListener","removeEventListener","handleOverlayClose","e","target","currentTarget"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;AAGA,SAASC,WAAT,QAA4B,kBAA5B;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAC7B;AACA,QAAM;AACJC,IAAAA,MADI;AAEJC,IAAAA,OAFI;AAGJC,IAAAA;AAHI,MAIFH,KAJJ;AAMA,QAAMI,IAAI,GAAGN,WAAW,GAAGO,QAA3B;;AAEA,QAAMC,OAAO,GAAG,MAAM;AACpB,QAAIF,IAAI,KAAK,UAAT,IAAuBA,IAAI,KAAK,UAApC,EAAgD;AAC9C,aAAOD,SAAS,GACZ,gCADY,GAEZ,0CAFJ;AAGD;;AAED,QAAIC,IAAI,KAAK,QAAb,EAAuB;AACrB,aAAOD,SAAS,GACZ,4BADY,GAEZ,sBAFJ;AAGD;;AAED;AACD,GAdD;;AAgBA,QAAMI,KAAK,GAAGJ,SAAS,GACnBK,OADmB,GAEnBC,IAFJ,CA1B6B,CA8B7B;;AACAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACI,MAAL,EAAa;;AACb,UAAMS,iBAAiB,GAAIC,KAAD,IAAW;AACnC,UAAIA,KAAK,CAACC,GAAN,KAAc,QAAlB,EAA4B;AAC1BV,QAAAA,OAAO;AACR;AACF,KAJD;;AAKAW,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCJ,iBAArC;AACA,WAAO,MAAM;AACXG,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCL,iBAAxC;AACD,KAFD;AAGD,GAXQ,EAWN,CAACT,MAAD,EAASC,OAAT,CAXM,CAAT,CA/B6B,CA4C7B;;AACA,QAAMc,kBAAkB,GAAIC,CAAD,IAAO;AAChC,QAAIA,CAAC,CAACC,MAAF,KAAaD,CAAC,CAACE,aAAf,IAAgClB,MAApC,EAA4C;AAC1CC,MAAAA,OAAO;AACR;;AACD;AACD,GALD;;AAQA,sBACE;AACE,IAAA,OAAO,EAAEc,kBADX;AAEE,IAAA,SAAS,EAAG,iCAAgCf,MAAM,GAAG,cAAH,GAAoB,EAAG,EAF3E;AAAA,2BAGE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE;AACE,QAAA,SAAS,EAAC,4BADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAEC;AAHX;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAsC,QAAA,GAAG,EAAEK,KAA3C;AAAkD,QAAA,GAAG,EAAE;AAAvD;AAAA;AAAA;AAAA;AAAA,cANF,eAOE;AAAG,QAAA,SAAS,EAAC,gBAAb;AAAA,kBAA+BD,OAAO;AAAtC;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,CApED;;GAAMP,W;UAQSD,W;;;KARTC,W;AAsEN,eAAeA,WAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport fail from '../images/fail.svg';\nimport success from '../images/success.svg';\nimport { useLocation } from 'react-router-dom';\n\nconst InfoTooltip = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    isOpen,\n    onClose,\n    isSuccess\n  } = props;\n\n  const path = useLocation().pathname\n\n  const tooltip = () => {\n    if (path === '/sign-in' || path === '/sign-up') {\n      return isSuccess\n        ? \"Вы успешно зарегистрировались!\"\n        : \"Что-то пошло не так! Попробуйте ещё раз.\";\n    }\n\n    if (path === '/mesto') {\n      return isSuccess\n        ? \"Вы успешно авторизовались!\"\n        : \"Что-то пошло не так!\";\n    }\n\n    return;\n  }\n\n  const image = isSuccess\n    ? success\n    : fail\n\n  // Реализация закрытия нажатием на ESC\n  useEffect(() => {\n    if (!isOpen) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === \"Escape\") {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [isOpen, onClose]);\n\n  // Реализация закрытия по оверлею\n  const handleOverlayClose = (e) => {\n    if (e.target === e.currentTarget && isOpen) {\n      onClose();\n    }\n    return;\n  };\n\n\n  return (\n    <section\n      onClick={handleOverlayClose}\n      className={`popup popup_type_info-tooltip ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"button popup__button-close\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <img className=\"popup__image-tooltip\" src={image} alt={\"Картинка подсказки\"}></img>\n        <p className=\"popup__tooltip\">{tooltip()}</p>\n      </div>\n    </section>\n  )\n}\n\nexport default InfoTooltip;\n"]},"metadata":{},"sourceType":"module"}